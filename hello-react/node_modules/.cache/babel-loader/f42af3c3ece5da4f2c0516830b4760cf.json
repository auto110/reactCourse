{"ast":null,"code":"var _jsxFileName = \"/Users/qiaolinchen/Documents/books/2020-reading/react-workshop-building-applications-examples/mycode/hello-react/src/App.js\";\n// include the React library\nimport React, { Component } from 'react';\nimport \"./App.css\"; //New Greeting component\n\nconst Greeting = props => /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 27\n  }\n}, \"Hello \", props.name, \"!\"); // JSX基础结构\n// function App() {\n//   return (\n//     <div \n//       className=\"Example\"\n//       style = {{background:\"white\", color:\"black\"}}\n//       id=\"my-element\"\n//       onClick={() => alert('hello')}\n//       >\n//       Hello World\n//     </div>\n//   );\n// }\n//Declaring a functional component in React is incredibly simple since it is just a function declaration that returns some JSX.\n// const App = () => <div>Hello React!</div>;\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.validateUsernameOnBlur = event => {\n      // console.log(\"I should validate whatever is in \", event.target.value);\n      // // 这里this需要显式绑定到组件，否则会出现 “this is undefined” 错误\n      // this.setState()\n      const username = event.target.value;\n      const errors = this.state.errors;\n      errors.push(this.validateNotEmpty(\"Username\", username));\n      this.setState({\n        username,\n        errors\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      passwordConfirmation: '',\n      email: '',\n      errors: []\n    }; // 当调用事件函数时，事件里的this指向的上下文环境会发生变化（指向的不是当前组件），需要在构造器中为事件初始化指向和绑定执行上下文为当前组件\n\n    this.validateUsernameOnBlur = this.validateUsernameOnBlur.bind(this);\n    this.validatePasswordOnBlur = this.validatePasswordOnBlur.bind(this);\n    this.validatePasswordConfirmationOnBlur = this.validatePasswordConfirmationOnBlur.bind(this);\n    this.validateEmailOnBlur = this.validateEmailOnBlur.bind(this);\n  }\n\n  submitForm(event) {\n    console.log(\"正在提交表单 ...\");\n    console.log(event);\n  } // validateUsernameOnBlur(event){\n  //   console.log(\"I should validate whatever is in \", event.target.value);\n  //   // 这里this需要显式绑定到组件，否则会出现 “this is undefined” 错误\n  //   this.setState()\n  // }\n  // arrow function syntax\n\n\n  validatePasswordOnBlur(event) {\n    const password = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateNotEmpty(\"Password\", password));\n    this.setState({\n      password,\n      errors\n    });\n  }\n\n  validateEmailOnBlur(event) {\n    const email = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateEmailFormat(\"Email\", email));\n    this.setState({\n      email,\n      errors\n    });\n  }\n\n  validateEmailFormat(fieldName, value) {\n    let [lhs, rhs] = value.split('@');\n    lhs = lhs || '';\n    rhs = rhs || '';\n\n    if (lhs.length <= 0 || rhs.length <= 0) {\n      return `${fieldName} must be in a standard email format.`;\n    }\n  }\n\n  validatePasswordConfirmationOnBlur(event) {\n    const passwordConfirmation = event.target.value;\n    const errors = this.state.errors;\n\n    if (passwordConfirmation !== this.state.password) {\n      errors.push(\"Password must match password confirmation.\");\n    }\n\n    this.setState({\n      passwordConfirmation,\n      errors\n    });\n  }\n\n  displayErrors() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"errors\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, this.state.errors.map((err, i) => /*#__PURE__*/React.createElement(\"p\", {\n      key: `err-${i}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }, \" \", err, \" \")));\n  } // validate whether the field is blank or not\n\n\n  validateNotEmpty(fieldName, value) {\n    if (value.length <= 0) {\n      return `${fieldName} 为必填.`;\n    }\n  }\n\n  displayForm() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, \"Username: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onBlur: this.validateUsernameOnBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 19\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 80\n      }\n    }), \"Password: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onBlur: this.validatePasswordOnBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 78\n      }\n    }), \"Password Confirmation: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onBlur: this.validatePasswordConfirmationOnBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 32\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 102\n      }\n    }), \"Email: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onBlur: this.validateEmailOnBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 16\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 72\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.submitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }\n    }, \"Submit\"));\n  }\n\n  renderMessage(show) {\n    if (show) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 14\n        }\n      }, \"Hello World\");\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }\n    }, \"Create Account\", this.displayErrors(), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }\n    }), this.displayForm(), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, \"\\u70B9\\u51FB\\u8BE5\\u6309\\u94AE\\u663E\\u793A\\u5269\\u4F59\\u5185\\u5BB9\\uFF01\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }\n    }, \"I am the content that should be hidden by default!\"));\n  }\n\n} // export the component (named App）\n\n\nexport default App;","map":{"version":3,"sources":["/Users/qiaolinchen/Documents/books/2020-reading/react-workshop-building-applications-examples/mycode/hello-react/src/App.js"],"names":["React","Component","Greeting","props","name","App","constructor","validateUsernameOnBlur","event","username","target","value","errors","state","push","validateNotEmpty","setState","password","passwordConfirmation","email","bind","validatePasswordOnBlur","validatePasswordConfirmationOnBlur","validateEmailOnBlur","submitForm","console","log","validateEmailFormat","fieldName","lhs","rhs","split","length","displayErrors","map","err","i","displayForm","renderMessage","show","render"],"mappings":"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","sourcesContent":["// include the React library\nimport React, { Component } from 'react';\nimport \"./App.css\";\n\n//New Greeting component\nconst Greeting = props => <p>Hello {props.name}!</p>;\n\n// JSX基础结构\n// function App() {\n//   return (\n//     <div \n//       className=\"Example\"\n//       style = {{background:\"white\", color:\"black\"}}\n//       id=\"my-element\"\n//       onClick={() => alert('hello')}\n//       >\n\n//       Hello World\n\n//     </div>\n//   );\n// }\n\n//Declaring a functional component in React is incredibly simple since it is just a function declaration that returns some JSX.\n// const App = () => <div>Hello React!</div>;\n\nclass App extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      username: '',\n      password: '',\n      passwordConfirmation: '',\n      email: '',\n      errors: []\n    };\n    // 当调用事件函数时，事件里的this指向的上下文环境会发生变化（指向的不是当前组件），需要在构造器中为事件初始化指向和绑定执行上下文为当前组件\n    this.validateUsernameOnBlur = this.validateUsernameOnBlur.bind(this)\n    this.validatePasswordOnBlur = this.validatePasswordOnBlur.bind(this);\n    this.validatePasswordConfirmationOnBlur = this.validatePasswordConfirmationOnBlur.bind(this);\n    this.validateEmailOnBlur = this.validateEmailOnBlur.bind(this);\n  }\n  \n  submitForm(event){\n    console.log(\"正在提交表单 ...\")\n    console.log(event)\n  }\n\n  // validateUsernameOnBlur(event){\n  //   console.log(\"I should validate whatever is in \", event.target.value);\n  //   // 这里this需要显式绑定到组件，否则会出现 “this is undefined” 错误\n  //   this.setState()\n  // }\n\n  // arrow function syntax\n  validateUsernameOnBlur = (event) => {\n    // console.log(\"I should validate whatever is in \", event.target.value);\n    // // 这里this需要显式绑定到组件，否则会出现 “this is undefined” 错误\n    // this.setState()\n\n    const username = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateNotEmpty(\"Username\", username));\n    this.setState({username, errors})\n\n  }\n\n  validatePasswordOnBlur(event){\n    const password = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateNotEmpty(\"Password\", password));\n    this.setState({ password, errors });\n  }\n\n  validateEmailOnBlur(event) {\n    const email = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateEmailFormat(\"Email\", email));\n    this.setState({ email, errors });\n  }\n\n\n  validateEmailFormat(fieldName, value) {\n    let [lhs, rhs] = value.split('@');\n    lhs = lhs || '';\n    rhs = rhs || '';\n    if (lhs.length <= 0 || rhs.length <= 0) {\n      return `${fieldName} must be in a standard email format.`;\n    }\n  }\n\n  validatePasswordConfirmationOnBlur(event) {\n    const passwordConfirmation = event.target.value;\n    const errors = this.state.errors;\n    if (passwordConfirmation !== this.state.password) {\n      errors.push(\"Password must match password confirmation.\");\n    }\n    this.setState({ passwordConfirmation, errors });\n  }\n\n  displayErrors(){\n    return (\n      <div className=\"errors\">\n        {\n          this.state.errors.map(\n            (err, i) => <p key={`err-${i}`}> {err} </p>\n          )\n        }\n      </div>\n    );\n  }\n\n  // validate whether the field is blank or not\n  validateNotEmpty(fieldName, value) {\n    if (value.length <= 0) {\n      return `${fieldName} 为必填.`;\n    }\n   }\n\n  \n  displayForm() {\n    return (\n      <div>\n        Username: <input type=\"text\" onBlur = {this.validateUsernameOnBlur} /> <br />\n        Password: <input type=\"text\" onBlur={this.validatePasswordOnBlur} /> <br />\n        Password Confirmation: <input type=\"text\" onBlur={this.validatePasswordConfirmationOnBlur} /><br />\n        Email: <input type=\"text\" onBlur={this.validateEmailOnBlur} /> <br />\n        <br />\n        {/* <button>Submit</button> */}\n        {/* We will call this click handler submitForm and reference it inside our component class since this will be an event handler local to this component. */}\n        <button onClick = {this.submitForm}>Submit</button>\n      </div>\n    );\n  }\n\n  renderMessage(show){\n    if(show){\n      return <p>Hello World</p>\n    }else{\n      return null;\n    }\n  }\n  \n  render(){\n    return (\n      <div className = \"App\">\n        Create Account \n        {this.displayErrors()}\n        <hr/>\n        {this.displayForm()}\n\n        <button>点击该按钮显示剩余内容！</button>\n        <div>\n        I am the content that should be hidden by default!\n        </div>\n      </div>\n    )\n  }\n}\n\n// export the component (named App）\nexport default App;"]},"metadata":{},"sourceType":"module"}