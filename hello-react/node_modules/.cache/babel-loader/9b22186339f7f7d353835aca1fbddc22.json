{"ast":null,"code":"var _jsxFileName = \"/Users/qiaolinchen/Documents/books/2020-reading/react-workshop-building-applications-examples/mycode/hello-react/src/App.js\";\n// include the React library\nimport React, { Component } from 'react';\nimport \"./App.css\"; //New Greeting component\n\nconst Greeting = props => /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 27\n  }\n}, \"Hello \", props.name, \"!\"); // JSX基础结构\n// function App() {\n//   return (\n//     <div \n//       className=\"Example\"\n//       style = {{background:\"white\", color:\"black\"}}\n//       id=\"my-element\"\n//       onClick={() => alert('hello')}\n//       >\n//       Hello World\n//     </div>\n//   );\n// }\n//Declaring a functional component in React is incredibly simple since it is just a function declaration that returns some JSX.\n// const App = () => <div>Hello React!</div>;\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.validateUsernameOnBlur = event => {\n      // console.log(\"I should validate whatever is in \", event.target.value);\n      // // 这里this需要显式绑定到组件，否则会出现 “this is undefined” 错误\n      // this.setState()\n      const username = event.target.value;\n      const errors = this.state.errors;\n      errors.push(this.validateNotEmpty(\"Username\", username));\n      this.setState({\n        username,\n        errors\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      passwordConfirmation: '',\n      email: '',\n      errors: [],\n      showSecret: false,\n      questions: [{\n        question: \"What animal barks?\",\n        possibleAnswers: [\"Dog\", \"Cat\"],\n        rightAnswer: \"Dog\",\n        playerChoice: null\n      }, {\n        question: \"What animal is more closely related to a tiger?\",\n        possibleAnswers: [\"Dog\", \"Cat\"],\n        rightAnswer: \"Cat\",\n        playerChoice: null\n      }, {\n        question: \"What animal is more closely related to a wolf?\",\n        possibleAnswers: [\"Dog\", \"Cat\"],\n        rightAnswer: \"Dog\",\n        playerChoice: null\n      }, {\n        question: \"What animal is best known for playing fetch?\",\n        possibleAnswers: [\"Dog\", \"Cat\"],\n        rightAnswer: \"Dog\",\n        playerChoice: null\n      }]\n    }; // 当调用事件函数时，事件里的this指向的上下文环境会发生变化（指向的不是当前组件），需要在构造器中为事件初始化指向和绑定执行上下文为当前组件\n\n    this.validateUsernameOnBlur = this.validateUsernameOnBlur.bind(this);\n    this.validatePasswordOnBlur = this.validatePasswordOnBlur.bind(this);\n    this.validatePasswordConfirmationOnBlur = this.validatePasswordConfirmationOnBlur.bind(this);\n    this.validateEmailOnBlur = this.validateEmailOnBlur.bind(this);\n    this.toggleSecretMessage = this.toggleSecretMessage.bind(this);\n  }\n\n  submitForm(event) {\n    console.log(\"正在提交表单 ...\");\n    console.log(event);\n  } // validateUsernameOnBlur(event){\n  //   console.log(\"I should validate whatever is in \", event.target.value);\n  //   // 这里this需要显式绑定到组件，否则会出现 “this is undefined” 错误\n  //   this.setState()\n  // }\n  // arrow function syntax\n\n\n  validatePasswordOnBlur(event) {\n    const password = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateNotEmpty(\"Password\", password));\n    this.setState({\n      password,\n      errors\n    });\n  }\n\n  validateEmailOnBlur(event) {\n    const email = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateEmailFormat(\"Email\", email));\n    this.setState({\n      email,\n      errors\n    });\n  }\n\n  validateEmailFormat(fieldName, value) {\n    let [lhs, rhs] = value.split('@');\n    lhs = lhs || '';\n    rhs = rhs || '';\n\n    if (lhs.length <= 0 || rhs.length <= 0) {\n      return `${fieldName} must be in a standard email format.`;\n    }\n  }\n\n  validatePasswordConfirmationOnBlur(event) {\n    const passwordConfirmation = event.target.value;\n    const errors = this.state.errors;\n\n    if (passwordConfirmation !== this.state.password) {\n      errors.push(\"Password must match password confirmation.\");\n    }\n\n    this.setState({\n      passwordConfirmation,\n      errors\n    });\n  }\n\n  displayErrors() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"errors\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 7\n      }\n    }, this.state.errors.map((err, i) => /*#__PURE__*/React.createElement(\"p\", {\n      key: `err-${i}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, \" \", err, \" \")));\n  } // validate whether the field is blank or not\n\n\n  validateNotEmpty(fieldName, value) {\n    if (value.length <= 0) {\n      return `${fieldName} 为必填.`;\n    }\n  }\n\n  displayForm() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }\n    }, \"Username: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onBlur: this.validateUsernameOnBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 80\n      }\n    }), \"Password: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onBlur: this.validatePasswordOnBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 19\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 78\n      }\n    }), \"Password Confirmation: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onBlur: this.validatePasswordConfirmationOnBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 32\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 102\n      }\n    }), \"Email: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onBlur: this.validateEmailOnBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 16\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 72\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.submitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }, \"Submit\"));\n  }\n\n  renderMessage(show) {\n    if (show) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 14\n        }\n      }, \"Hello World\");\n    } else {\n      return null;\n    }\n  }\n\n  secretMessage() {\n    // quick conditional that checks the state for showSecret\n    if (!this.state.showSecret) {\n      return;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"secret-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 7\n      }\n    }, \"I am the secret message!\");\n  } // add a new function called toggleSecretMessage() to start modifying the state\n  // We will want to call this function from our button since that will act as the trigger to show and hide the secret message.\n\n\n  toggleSecretMessage() {\n    this.setState({\n      showSecret: !this.state.showSecret\n    });\n  }\n\n  displayQuestion(index) {\n    const question = this.state.questions[index];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question-display\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"question\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 8\n      }\n    }, question.question), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"question-choice\",\n      onClick: () => this.answerQuestion(index, question.possibleAnswers[0]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 8\n      }\n    }, question.possibleAnswers[0]), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"question-choice\",\n      onClick: () => this.answerQuestion(index, question.possibleAnswers[1]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 8\n      }\n    }, question.possibleAnswers[1]), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"result-correct\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 8\n      }\n    }, \"\\u7B54\\u6848\\u6B63\\u786E\\uFF01\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"result-incorrect\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 8\n      }\n    }, \"\\u7B54\\u6848\\u9519\\u8BEF\\uFF01\"));\n  } // 回答问题\n\n\n  answerQuestion(index, choice) {\n    const answeredQuestion = this.state.questions[index];\n    answeredQuestion.playerChoice = choice;\n    const allQuestions = this.state.questions;\n    allQuestions[index] = this.answeredQuestion;\n    this.setState({\n      questions: allQuestions\n    }, () => {\n      this.updatePlayerScore();\n    });\n  }\n\n  updatePlayerScore() {\n    const playerScore = this.state.questions.filter(q => q.rightAnswer == q.playerChoice).length;\n    this.setState({\n      playerScore\n    });\n    console.log(\"New player score:\", playerScore);\n  }\n\n  render() {\n    const showMessage = true;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 7\n      }\n    }, \"Create Account\", this.displayErrors(), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }\n    }), this.displayForm(), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.toggleSecretMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }\n    }, \"\\u70B9\\u51FB\\u8BE5\\u6309\\u94AE\\u663E\\u793A\\u5269\\u4F59\\u5185\\u5BB9\\uFF01\"), this.secretMessage(), this.renderMessage(showMessage), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 7\n      }\n    }, \"\\u95EE\\u7B54\\u6D4B\\u8BD5\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 7\n      }\n    }), this.displayQuestion(0), this.displayQuestion(1), this.displayQuestion(2), this.displayQuestion(3));\n  }\n\n} // export the component (named App）\n\n\nexport default App;","map":{"version":3,"sources":["/Users/qiaolinchen/Documents/books/2020-reading/react-workshop-building-applications-examples/mycode/hello-react/src/App.js"],"names":["React","Component","Greeting","props","name","App","constructor","validateUsernameOnBlur","event","username","target","value","errors","state","push","validateNotEmpty","setState","password","passwordConfirmation","email","showSecret","questions","question","possibleAnswers","rightAnswer","playerChoice","bind","validatePasswordOnBlur","validatePasswordConfirmationOnBlur","validateEmailOnBlur","toggleSecretMessage","submitForm","console","log","validateEmailFormat","fieldName","lhs","rhs","split","length","displayErrors","map","err","i","displayForm","renderMessage","show","secretMessage","displayQuestion","index","answerQuestion","choice","answeredQuestion","allQuestions","updatePlayerScore","playerScore","filter","q","render","showMessage"],"mappings":"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","sourcesContent":["// include the React library\nimport React, { Component } from 'react';\nimport \"./App.css\";\n\n//New Greeting component\nconst Greeting = props => <p>Hello {props.name}!</p>;\n\n// JSX基础结构\n// function App() {\n//   return (\n//     <div \n//       className=\"Example\"\n//       style = {{background:\"white\", color:\"black\"}}\n//       id=\"my-element\"\n//       onClick={() => alert('hello')}\n//       >\n\n//       Hello World\n\n//     </div>\n//   );\n// }\n\n//Declaring a functional component in React is incredibly simple since it is just a function declaration that returns some JSX.\n// const App = () => <div>Hello React!</div>;\n\nclass App extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      username: '',\n      password: '',\n      passwordConfirmation: '',\n      email: '',\n      errors: [],\n\n      showSecret: false,\n\n      questions: [\n        {\n          question: \"What animal barks?\",\n          possibleAnswers: [\"Dog\", \"Cat\"],\n          rightAnswer: \"Dog\",\n          playerChoice: null\n        },\n        {\n          question: \"What animal is more closely related to a tiger?\",\n          possibleAnswers: [\"Dog\", \"Cat\"],\n          rightAnswer: \"Cat\",\n          playerChoice: null\n        },\n        {\n          question: \"What animal is more closely related to a wolf?\",\n          possibleAnswers: [\"Dog\", \"Cat\"],\n          rightAnswer: \"Dog\",\n          playerChoice: null\n        },\n        {\n          question: \"What animal is best known for playing fetch?\",\n          possibleAnswers: [\"Dog\", \"Cat\"],\n          rightAnswer: \"Dog\",\n          playerChoice: null\n        }\n      ]\n    };\n    // 当调用事件函数时，事件里的this指向的上下文环境会发生变化（指向的不是当前组件），需要在构造器中为事件初始化指向和绑定执行上下文为当前组件\n    this.validateUsernameOnBlur = this.validateUsernameOnBlur.bind(this)\n    this.validatePasswordOnBlur = this.validatePasswordOnBlur.bind(this);\n    this.validatePasswordConfirmationOnBlur = this.validatePasswordConfirmationOnBlur.bind(this);\n    this.validateEmailOnBlur = this.validateEmailOnBlur.bind(this);\n    this.toggleSecretMessage = this.toggleSecretMessage.bind(this)\n  }\n  \n  submitForm(event){\n    console.log(\"正在提交表单 ...\")\n    console.log(event)\n  }\n\n  // validateUsernameOnBlur(event){\n  //   console.log(\"I should validate whatever is in \", event.target.value);\n  //   // 这里this需要显式绑定到组件，否则会出现 “this is undefined” 错误\n  //   this.setState()\n  // }\n\n  // arrow function syntax\n  validateUsernameOnBlur = (event) => {\n    // console.log(\"I should validate whatever is in \", event.target.value);\n    // // 这里this需要显式绑定到组件，否则会出现 “this is undefined” 错误\n    // this.setState()\n\n    const username = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateNotEmpty(\"Username\", username));\n    this.setState({username, errors})\n\n  }\n\n  validatePasswordOnBlur(event){\n    const password = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateNotEmpty(\"Password\", password));\n    this.setState({ password, errors });\n  }\n\n  validateEmailOnBlur(event) {\n    const email = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateEmailFormat(\"Email\", email));\n    this.setState({ email, errors });\n  }\n\n\n  validateEmailFormat(fieldName, value) {\n    let [lhs, rhs] = value.split('@');\n    lhs = lhs || '';\n    rhs = rhs || '';\n    if (lhs.length <= 0 || rhs.length <= 0) {\n      return `${fieldName} must be in a standard email format.`;\n    }\n  }\n\n  validatePasswordConfirmationOnBlur(event) {\n    const passwordConfirmation = event.target.value;\n    const errors = this.state.errors;\n    if (passwordConfirmation !== this.state.password) {\n      errors.push(\"Password must match password confirmation.\");\n    }\n    this.setState({ passwordConfirmation, errors });\n  }\n\n  displayErrors(){\n    return (\n      <div className=\"errors\">\n        {\n          this.state.errors.map(\n            (err, i) => <p key={`err-${i}`}> {err} </p>\n          )\n        }\n      </div>\n    );\n  }\n\n  // validate whether the field is blank or not\n  validateNotEmpty(fieldName, value) {\n    if (value.length <= 0) {\n      return `${fieldName} 为必填.`;\n    }\n   }\n\n  \n  displayForm() {\n    return (\n      <div>\n        Username: <input type=\"text\" onBlur = {this.validateUsernameOnBlur} /> <br />\n        Password: <input type=\"text\" onBlur={this.validatePasswordOnBlur} /> <br />\n        Password Confirmation: <input type=\"text\" onBlur={this.validatePasswordConfirmationOnBlur} /><br />\n        Email: <input type=\"text\" onBlur={this.validateEmailOnBlur} /> <br />\n        <br />\n        {/* <button>Submit</button> */}\n        {/* We will call this click handler submitForm and reference it inside our component class since this will be an event handler local to this component. */}\n        <button onClick = {this.submitForm}>Submit</button>\n      </div>\n    );\n  }\n\n  renderMessage(show){\n    if(show){\n      return <p>Hello World</p>\n    }else{\n      return null;\n    }\n  }\n\n  secretMessage(){\n    // quick conditional that checks the state for showSecret\n    if(!this.state.showSecret){\n      return;\n    }\n\n    return (\n      <div className=\"secret-message\">\n       I am the secret message!\n      </div>\n    )\n  }\n\n  // add a new function called toggleSecretMessage() to start modifying the state\n  // We will want to call this function from our button since that will act as the trigger to show and hide the secret message.\n  toggleSecretMessage(){\n    this.setState({\n      showSecret: !this.state.showSecret\n    })\n  }\n\n  displayQuestion(index){\n    const question = this.state.questions[index];\n    return (\n      <div className=\"question-display\">\n       <p className=\"question\">\n        { question.question }\n       </p>\n       <button className=\"question-choice\" onClick={()=>this.answerQuestion(index, question.possibleAnswers[0])}>\n         {question.possibleAnswers[0]}\n       </button>\n       <button className=\"question-choice\" onClick={()=>this.answerQuestion(index,question.possibleAnswers[1])}>\n         {question.possibleAnswers[1]}\n       </button>\n       <br/>\n\n       <p className=\"result-correct\">\n        答案正确！\n       </p>\n       <p className=\"result-incorrect\">\n         答案错误！\n       </p>\n      </div>\n    ) \n  }\n\n  // 回答问题\n  answerQuestion(index, choice) {\n    const answeredQuestion = this.state.questions[index];\n    answeredQuestion.playerChoice = choice;\n    const allQuestions = this.state.questions;\n    allQuestions[index] = this.answeredQuestion;\n    this.setState(\n      {\n        questions: allQuestions\n      }, ()=> {\n        this.updatePlayerScore()\n      }\n    )\n  }\n\n\n  updatePlayerScore(){\n    const playerScore = this.state.questions.filter(q=>q.rightAnswer == q.playerChoice).length;\n    this.setState({playerScore})\n    console.log(\"New player score:\", playerScore)\n  }\n\n  render(){\n    const showMessage = true;\n    return (\n      <div className = \"App\">\n        Create Account \n        {this.displayErrors()}\n        <hr/>\n        {this.displayForm()}\n\n        <button onClick = {this.toggleSecretMessage}>点击该按钮显示剩余内容！</button>\n        {this.secretMessage()}\n\n        {/* <div>\n        I am the content that should be hidden by default!\n        </div> */}\n\n        {this.renderMessage(showMessage)}\n    \n      <br/>\n      <h1>问答测试</h1>\n      <br/>\n\n      { this.displayQuestion(0) }\n      { this.displayQuestion(1) }\n      { this.displayQuestion(2) }\n      { this.displayQuestion(3) }\n      </div>\n    )\n  }\n}\n\n// export the component (named App）\nexport default App;"]},"metadata":{},"sourceType":"module"}