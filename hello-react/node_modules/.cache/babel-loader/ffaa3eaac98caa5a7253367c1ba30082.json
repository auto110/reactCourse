{"ast":null,"code":"var _jsxFileName = \"/Users/qiaolinchen/Documents/books/2020-reading/react-workshop-building-applications-examples/mycode/hello-react/src/App.js\";\n// include the React library\nimport React, { Component } from 'react';\nimport \"./App.css\"; //New Greeting component\n\nconst Greeting = props => /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 27\n  }\n}, \"Hello \", props.name, \"!\"); // JSX基础结构\n// function App() {\n//   return (\n//     <div \n//       className=\"Example\"\n//       style = {{background:\"white\", color:\"black\"}}\n//       id=\"my-element\"\n//       onClick={() => alert('hello')}\n//       >\n//       Hello World\n//     </div>\n//   );\n// }\n//Declaring a functional component in React is incredibly simple since it is just a function declaration that returns some JSX.\n// const App = () => <div>Hello React!</div>;\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.validateUsernameOnBlur = event => {\n      // console.log(\"I should validate whatever is in \", event.target.value);\n      // // 这里this需要显式绑定到组件，否则会出现 “this is undefined” 错误\n      // this.setState()\n      const username = event.target.value;\n      const errors = this.state.errors;\n      errors.push(this.validateNotEmpty(\"Username\", username));\n      this.setState({\n        username,\n        errors\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      passwordConfirmation: '',\n      email: '',\n      errors: []\n    }; // 当调用事件函数时，事件里的this指向的上下文环境会发生变化（指向的不是当前组件），需要在构造器中为事件初始化指向和绑定执行上下文为当前组件\n\n    this.validateUsernameOnBlur = this.validateUsernameOnBlur.bind(this);\n    this.validatePasswordOnBlur = this.validatePasswordOnBlur.bind(this);\n  }\n\n  submitForm(event) {\n    console.log(\"正在提交表单 ...\");\n    console.log(event);\n  } // validateUsernameOnBlur(event){\n  //   console.log(\"I should validate whatever is in \", event.target.value);\n  //   // 这里this需要显式绑定到组件，否则会出现 “this is undefined” 错误\n  //   this.setState()\n  // }\n  // arrow function syntax\n\n\n  validatePasswordOnBlur(event) {\n    const password = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateNotEmpty(\"Password\", password));\n    this.setState({\n      password,\n      errors\n    });\n  }\n\n  displayErrors() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"errors\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, this.state.errors.map((err, i) => /*#__PURE__*/React.createElement(\"p\", {\n      key: `err-${i}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, \" \", err, \" \")));\n  } // validate whether the field is blank or not\n\n\n  validateNotEmpty(fieldName, value) {\n    if (value.length <= 0) {\n      return `${fieldName} 为必填.`;\n    }\n  }\n\n  displayForm() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }\n    }, \"Username: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onBlur: this.validateUsernameOnBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 79\n      }\n    }), \"Password: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onBlur: this.validatePasswordOnBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 76\n      }\n    }), \"Password Confirmation: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 32\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 53\n      }\n    }), \"Email: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.submitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, \"Submit\"));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }\n    }, \"Create Account\", this.displayErrors(), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }), this.displayForm());\n  }\n\n} // export the component (named App）\n\n\nexport default App;","map":{"version":3,"sources":["/Users/qiaolinchen/Documents/books/2020-reading/react-workshop-building-applications-examples/mycode/hello-react/src/App.js"],"names":["React","Component","Greeting","props","name","App","constructor","validateUsernameOnBlur","event","username","target","value","errors","state","push","validateNotEmpty","setState","password","passwordConfirmation","email","bind","validatePasswordOnBlur","submitForm","console","log","displayErrors","map","err","i","fieldName","length","displayForm","render"],"mappings":"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","sourcesContent":["// include the React library\nimport React, { Component } from 'react';\nimport \"./App.css\";\n\n//New Greeting component\nconst Greeting = props => <p>Hello {props.name}!</p>;\n\n// JSX基础结构\n// function App() {\n//   return (\n//     <div \n//       className=\"Example\"\n//       style = {{background:\"white\", color:\"black\"}}\n//       id=\"my-element\"\n//       onClick={() => alert('hello')}\n//       >\n\n//       Hello World\n\n//     </div>\n//   );\n// }\n\n//Declaring a functional component in React is incredibly simple since it is just a function declaration that returns some JSX.\n// const App = () => <div>Hello React!</div>;\n\nclass App extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      username: '',\n      password: '',\n      passwordConfirmation: '',\n      email: '',\n      errors: []\n    };\n    // 当调用事件函数时，事件里的this指向的上下文环境会发生变化（指向的不是当前组件），需要在构造器中为事件初始化指向和绑定执行上下文为当前组件\n    this.validateUsernameOnBlur = this.validateUsernameOnBlur.bind(this)\n    this.validatePasswordOnBlur = this.validatePasswordOnBlur.bind(this);\n  }\n  \n  submitForm(event){\n    console.log(\"正在提交表单 ...\")\n    console.log(event)\n  }\n\n  // validateUsernameOnBlur(event){\n  //   console.log(\"I should validate whatever is in \", event.target.value);\n  //   // 这里this需要显式绑定到组件，否则会出现 “this is undefined” 错误\n  //   this.setState()\n  // }\n\n  // arrow function syntax\n  validateUsernameOnBlur = (event) => {\n    // console.log(\"I should validate whatever is in \", event.target.value);\n    // // 这里this需要显式绑定到组件，否则会出现 “this is undefined” 错误\n    // this.setState()\n\n    const username = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateNotEmpty(\"Username\", username));\n    this.setState({username, errors})\n\n  }\n\n  validatePasswordOnBlur(event){\n    const password = event.target.value;\n    const errors = this.state.errors;\n    errors.push(this.validateNotEmpty(\"Password\", password));\n    this.setState({ password, errors });\n  }\n\n\n  displayErrors(){\n    return (\n      <div className=\"errors\">\n        {\n          this.state.errors.map(\n            (err, i) => <p key={`err-${i}`}> {err} </p>\n          )\n        }\n      </div>\n    );\n  }\n\n  // validate whether the field is blank or not\n  validateNotEmpty(fieldName, value) {\n    if (value.length <= 0) {\n      return `${fieldName} 为必填.`;\n    }\n   }\n\n  \n  displayForm() {\n    return (\n      <div>\n        Username: <input type=\"text\" onBlur = {this.validateUsernameOnBlur} /><br />\n        Password: <input type=\"text\" onBlur={this.validatePasswordOnBlur}/><br />\n        Password Confirmation: <input type=\"text\" /><br />\n        Email: <input type=\"text\" /><br />\n        <br />\n        {/* <button>Submit</button> */}\n        {/* We will call this click handler submitForm and reference it inside our component class since this will be an event handler local to this component. */}\n        <button onClick = {this.submitForm}>Submit</button>\n      </div>\n    );\n  }\n  \n  render(){\n    return (\n      <div className = \"App\">\n        Create Account \n        {this.displayErrors()}\n        <hr/>\n        {this.displayForm()}\n      </div>\n    )\n  }\n}\n\n// export the component (named App）\nexport default App;\n"]},"metadata":{},"sourceType":"module"}